"use strict";(self.webpackChunkggm_church=self.webpackChunkggm_church||[]).push([[308],{3308:(je,T,a)=>{a.r(T),a.d(T,{BibleModule:()=>Fe});var d=a(177),R=a(8498),D=a(5717),m=a(7760),$=a(1654),e=a(3953),C=a(9553),y=a(3783);let N=(()=>{class i{fontSize=42;constructor(){}zoomIn(){this.fontSize+=2,this.updateFontSize()}zoomOut(){this.fontSize>10&&(this.fontSize-=2,this.updateFontSize())}reset(){this.fontSize=42,this.updateFontSize()}updateFontSize(){const t=document.getElementById("zoom-container");t&&t.setAttribute("style",`font-size: ${this.fontSize}px`)}static \u0275fac=function(o){return new(o||i)};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),z=(()=>{class i{zoomService;toggleDrawer=new e.bkB;highlightedTexts=[];constructor(t){this.zoomService=t}shortcuts={zoomIn:t=>{t.preventDefault(),this.zoomService.zoomIn()},zoomOut:t=>{t.preventDefault(),this.zoomService.zoomOut()},undo:t=>{},toggleMenu:t=>{t.preventDefault(),this.toggleDrawer.emit()}};onKeydown(t){const{ctrlKey:o,metaKey:n,key:r}=t;!o&&!n||"+"!==r&&"="!==r?(o||n)&&"-"===r?this.shortcuts.zoomOut(t):(o||n)&&"z"===r?this.shortcuts.undo(t):(o||n)&&"m"===r&&this.shortcuts.toggleMenu(t):this.shortcuts.zoomIn(t)}static \u0275fac=function(o){return new(o||i)(e.KVO(N))};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var x=a(958),Y=a(1537),B=a(8834),A=a(9183),M=a(5596);const X=i=>({active:i});function L(i,l){if(1&i){const t=e.RV6();e.j41(0,"li",3)(1,"button",4),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onChapterClick(n))}),e.j41(2,"span"),e.EFF(3),e.k0s()()()}if(2&i){const t=l.$implicit,o=l.index,n=e.XpG();e.R7$(),e.Y8G("ngClass",e.eq3(2,X,n.isActive(t))),e.R7$(2),e.SpI(" ",o+1," ")}}let U=(()=>{class i{bibleService;currentBook;currentChapterIndex=1;currentChapter=new e.bkB;isActiveChapter;constructor(t){this.bibleService=t}ngOnInit(){}ngOnChanges(t){this.isActiveChapter=this.currentBook.chapters[this.currentChapterIndex-1]}isActive(t){return this.isActiveChapter.id.toLowerCase()===t.id.toLowerCase()}onChapterClick(t){this.isActiveChapter=t;let o=t.name.match(/\d+$/);this.bibleService.setChapterIndex(o?parseInt(o[0]):1),this.currentChapter.emit(t)}static \u0275fac=function(o){return new(o||i)(e.rXU(C.c))};static \u0275cmp=e.VBU({type:i,selectors:[["app-chapters"]],inputs:{currentBook:"currentBook",currentChapterIndex:"currentChapterIndex"},outputs:{currentChapter:"currentChapter"},features:[e.OA$],decls:5,vars:1,consts:[[1,"chapter-list"],[1,"m-0","p-0"],["class"," book-list",4,"ngFor","ngForOf"],[1,"book-list"],["mat-icon-button","",1,"chapter-num",3,"click","ngClass"]],template:function(o,n){1&o&&(e.j41(0,"section",0)(1,"mat-card")(2,"mat-card-content")(3,"ul",1),e.DNE(4,L,4,4,"li",2),e.k0s()()()()),2&o&&(e.R7$(4),e.Y8G("ngForOf",n.currentBook.chapters))},dependencies:[d.YU,d.Sq,B.iY,M.RN,M.m2],styles:[".chapter-list mat-card{background:#e1e1e1}  .chapter-list mat-card mat-card-content ul{list-style:none;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;align-items:stretch;align-content:stretch}  .chapter-list mat-card mat-card-content ul li{padding:0;margin:5px}  .chapter-list mat-card mat-card-content ul li .chapter-num{font-size:14px;font-weight:600}  .chapter-list mat-card mat-card-content ul li .chapter-num.active{background-color:#1c222e;color:#e3e3e3}  .chapter-list mat-card mat-card-content ul li .mat-mdc-icon-button .mat-mdc-button-touch-target{width:28px;height:28px}"]})}return i})();var P=a(3726),G=a(6354);function K(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",7)(1,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeChapter(n.action.PREV))}),e.j41(2,"span",9),e.EFF(3," arrow_back_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function Z(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",10)(1,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeChapter(n.action.NEXT))}),e.j41(2,"span",9),e.EFF(3," arrow_forward_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function Q(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",11)(1,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeChapter(n.action.NEXT))}),e.j41(2,"span",9),e.EFF(3," arrow_forward_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function H(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",12)(1,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onChangeChapter(n.action.NEXT))}),e.j41(2,"span",9),e.EFF(3," arrow_forward_ios "),e.k0s()()()}2&i&&(e.R7$(),e.Y8G("disabled",!1))}function W(i,l){if(1&i){const t=e.RV6();e.j41(0,"div",13)(1,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.scrollToTop())}),e.j41(2,"span",9),e.EFF(3," keyboard_arrow_up "),e.k0s()()()}}let J=(()=>{class i{ngZone;bookMarkService;sharedService;bibleService;changeChapter=new e.bkB;disableNext=!1;disablePrev=!1;action=m.R;showLeftArrow;showRightArrow;showUpArrow;showDownArrow;showScrollArrow=!1;scrollSubscription;constructor(t,o,n,r){this.ngZone=t,this.bookMarkService=o,this.sharedService=n,this.bibleService=r}ngOnInit(){this.ngZone.runOutsideAngular(()=>{window.addEventListener("keydown",this.handleKeyDown.bind(this))}),this.showScroll()}showScroll(){const t=document.getElementById("contentBlock");t&&(this.scrollSubscription=(0,P.R)(t,"scroll").pipe((0,G.T)(()=>t.scrollTop)).subscribe(o=>{this.showScrollArrow=o>180}))}scrollToTop(){const t=document.getElementById("contentBlock");t&&t.scrollTo({top:0,behavior:"smooth"})}onMouseMove(t){const{clientX:o}=t,n=window.innerWidth;this.showLeftArrow=o<60,this.showRightArrow=o>n-60}handleKeyDown(t){switch("ArrowRight"===t.key?this.ngZone.run(()=>{this.onChangeChapter(m.R.NEXT)}):"ArrowLeft"===t.key&&this.ngZone.run(()=>{this.onChangeChapter(m.R.PREV)}),t.key){case"ArrowRight":this.ngZone.run(()=>{this.onChangeChapter(m.R.NEXT)});break;case"ArrowLeft":this.ngZone.run(()=>{this.onChangeChapter(m.R.PREV)});break;case"ArrowUp":this.ngZone.run(()=>{this.onChangeChapter(m.R.UP)});break;case"ArrowDown":this.ngZone.run(()=>{this.onChangeChapter(m.R.DOWN)})}}onChangeChapter(t){this.changeChapter.emit(t)}ngOnDestroy(){window.removeEventListener("keydown",this.handleKeyDown.bind(this)),this.scrollSubscription.unsubscribe()}static \u0275fac=function(o){return new(o||i)(e.rXU(e.SKi),e.rXU(x.s),e.rXU(y.d),e.rXU(C.c))};static \u0275cmp=e.VBU({type:i,selectors:[["app-quick-access"]],hostBindings:function(o,n){1&o&&e.bIt("mousemove",function(s){return n.onMouseMove(s)},!1,e.EBC)},inputs:{disableNext:"disableNext",disablePrev:"disablePrev"},outputs:{changeChapter:"changeChapter"},decls:8,vars:5,consts:[[1,"quick-access",3,"mousemove"],[1,"navigation"],["class","previous-chapter",4,"ngIf"],["class","next-chapter",4,"ngIf"],["class","next-book",4,"ngIf"],["class","prev-book",4,"ngIf"],["class","bottom-acceess",4,"ngIf"],[1,"previous-chapter"],["mat-icon-button","",3,"click","disabled"],[1,"material-symbols-outlined"],[1,"next-chapter"],[1,"next-book"],[1,"prev-book"],[1,"bottom-acceess"],["mat-icon-button","",1,"scroll-arrow",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"section",0),e.bIt("mousemove",function(s){return n.onMouseMove(s)}),e.j41(1,"section",1),e.DNE(2,K,4,1,"div",2)(3,Z,4,1,"div",3)(4,Q,4,1,"div",4)(5,H,4,1,"div",5),e.k0s(),e.j41(6,"section"),e.DNE(7,W,4,0,"div",6),e.k0s()()),2&o&&(e.R7$(2),e.Y8G("ngIf",n.showLeftArrow),e.R7$(),e.Y8G("ngIf",n.showRightArrow),e.R7$(),e.Y8G("ngIf",n.showDownArrow),e.R7$(),e.Y8G("ngIf",n.showUpArrow),e.R7$(2),e.Y8G("ngIf",n.showScrollArrow))},dependencies:[d.bT,B.iY],styles:[".quick-access .previous-chapter button,   .quick-access .next-chapter button,   .quick-access .bottom-acceess button{width:64px;height:64px;padding:0}  .quick-access .previous-chapter .material-symbols-outlined,   .quick-access .next-chapter .material-symbols-outlined,   .quick-access .bottom-acceess .material-symbols-outlined{color:#fff;font-size:32px;padding:0}  .quick-access .previous-chapter{position:fixed;top:50%;transform:translateY(-50%);left:15px}  .quick-access .next-chapter{position:fixed;top:50%;transform:translateY(-50%);right:15px}  .quick-access .bottom-acceess{position:fixed;bottom:25px;right:25px;transition:opacity .5s;opacity:.6}"]})}return i})();var f=a(9417),_=a(850),g=a(6464);let q=(()=>{class i{constructor(){}searchBook(t){const n=t.match(/^(.*?)\s*[\s,:;]?\s*(\d+)?\s*[\s,:;]?\s*(\d+)?$/);if(n){const[r,s,c,h]=n,p={bookName:s.trim()};return c&&(p.chapterNumber=parseInt(c,10)),h&&(p.verse=parseInt(h,10)),p}return null}static \u0275fac=function(o){return new(o||i)};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var F=a(9172),ee=a(152),te=a(3294),O=a(5558),w=a(7673),u=a(4756);let oe=(()=>{class i{dateFormat="M/d/yyyy";constructor(){}unSubscribeSubs(t){if(t&&t.length>u.Y.ZERO)for(const o of t)o.unsubscribe()}objKeysHasAtleastOneValue(t){let o=!1;const n=Object.keys(t).map(r=>t[r]);if(n&&n.length>u.Y.ZERO)for(const r of n){if(r&&""!==r.value&&null!=r.value){o=!0;break}o=!1}return o}removeItmesFromSorceArray(t,o,n){return t.length>u.Y.ZERO&&o.length>u.Y.ZERO&&n?t.filter(r=>!o.find(s=>r[n]===s[n])):t}removeInactiveItems(t){return t&&t.length>u.Y.ZERO?t.filter(o=>o.deletionFlag<=u.Y.ZERO):t}getHours(){const o=[...Array(25)].map((r,s)=>s).map((r,s)=>r<10?"0"+s:s.toString());return o.map(r=>parseInt(r)),o}generateYearsBetween(t=u.Y.TWO_THOUSAND,o=(new Date).getFullYear(),n){const r=o+u.Y.TWO;let s=[];for(var c=t;c<=r;c++)s.push(t),t++;return s}setFocus(t,o=u.Y.ZERO){t&&setTimeout(()=>t.focus(),o)}alphaNumericSort=(t,o)=>{const n=o&&""!==o;return t.filter(c=>n?""!==c[o]&&null!==c[o]:""!==c&&null!==c).sort((c,h)=>{const p=S=>!isNaN(parseFloat(S))&&isFinite(S);if(p(n?c[o]:c)&&p(n?h[o]:h))return parseFloat(n?c[o]:c)-parseFloat(n?c[o]:c);const k=n?c[o].match(/\d+|\D+/g):c.match(/\d+|\D+/g),v=n?h[o].match(/\d+|\D+/g):h.match(/\d+|\D+/g);let b=u.Y.ZERO,j=Math.min(k.length,v.length);for(;b<j&&k[b]===v[b];)b++;return b===j?k.length-v.length:k[b].toString().trim().toLowerCase().localeCompare(v[b].toString().trim().toLowerCase())})};filteredData(t,o,n){const r=this.alphaNumericSort(o,n);return t.valueChanges.pipe((0,F.Z)(""),(0,G.T)(s=>{if(null===s)return r.slice();{const c=typeof s===g.g.number?s.toString():s,h=typeof c===g.g.string?c:c[n||""];return h?this.filter(h,r,n):r.slice()}}))}filteredDataComesFirst(t,o,n,r,s,c){c&&this.removeInactiveItems(o),s&&(o=this.removeDuplicates(o,n));const h=r?this.alphaNumericSort(o,n):o;return t.valueChanges.pipe((0,F.Z)(""),(0,ee.B)(u.Y.TWO_HUNDERED),(0,te.F)(),(0,O.n)(p=>{if(!p||""===p)return(0,w.of)(h.slice());{const k=typeof p===g.g.number?p.toString():p,b=this.filter((typeof k===g.g.string?k:k[n||""]).trim(),h,n);return h.filter(S=>!b.some(V=>n&&""!==n?S[n]===V[n]:S===V)),(0,w.of)([...b])}}))}filterBooks(t,o,n){const r=o.slice();return t.valueChanges.pipe((0,F.Z)(""),(0,O.n)(s=>{if(!s||""===s)return(0,w.of)(r);const h=(typeof s===g.g.number?s.toString():s).toString().trim().toLowerCase(),p=this.filterByTransliteration(h,r,n);return(0,w.of)(p.length>0?p:r)}))}filterByTransliteration(t,o,n){return o.filter(r=>r[n]?.some(s=>s.toLowerCase().includes(t)))}convertNumToArray(t){return Array.from({length:t},(o,n)=>n+1)}removeDuplicates(t,o){const n=new Set;return t.filter(r=>{const s=o&&""!==o?r[o]:r;return!n.has(s)&&(n.add(s),!0)})}hasDuplicates(t,o){const n=new Set;for(const r of t){const s=r[o];if(n.has(s))return!0;n.add(s)}return!1}filter(t,o,n){return o.filter(r=>n&&""!==n?r[n].toString().toLowerCase().includes(t.toString().trim().toLowerCase()):r.toString().toLowerCase().includes(t.toString().toLowerCase()))}sortAlphaNum=(t,o)=>t.toString().localeCompare(o.toString(),"en",{numeric:!0});convertBase64toUnitArray(t){const o=atob(t),n=new Array(o.length);for(let r=0;r<o.length;r++)n[r]=o.charCodeAt(r);return new Uint8Array(n)}formatBytes(t,o=u.Y.TWO){if(0===t)return"0 Bytes";const r=o<=0?0:o,c=Math.floor(Math.log(t)/Math.log(1024));return parseFloat((t/Math.pow(1024,c)).toFixed(r))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][c]}shortName=(t,o)=>t&&t.length>o&&t.substring(u.Y.ZERO,o)+"..."||t;generateUinqueId(t){const o=Date.now().toString();return`${t}-${Math.random().toString(36).substring(2,10)}-${o}`}static \u0275fac=function(o){return new(o||i)};static \u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ne=a(9213),re=a(9631),E=a(6467),ie=a(6600);const se=["bookInput"],ce=["chapterInput"],ae=["verseInput"];function le(i,l){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t.name," ")}}function he(i,l){if(1&i&&(e.j41(0,"mat-option",15),e.EFF(1),e.k0s()),2&i){const t=l.$implicit;e.Y8G("value",t),e.R7$(),e.SpI(" ",t," ")}}function pe(i,l){if(1&i){const t=e.RV6();e.j41(0,"mat-form-field",16),e.nrm(1,"input",17,2),e.j41(3,"mat-autocomplete",18,3),e.bIt("optionSelected",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onChapterSelected(n.option))}),e.DNE(5,he,2,2,"mat-option",12),e.nI1(6,"async"),e.k0s()()}if(2&i){const t=e.sdS(4),o=e.XpG();e.R7$(),e.Y8G("matAutocomplete",t),e.R7$(4),e.Y8G("ngForOf",e.bMT(6,2,o.filteredChapters))}}function ue(i,l){if(1&i){const t=e.RV6();e.j41(0,"mat-form-field",19)(1,"input",20,4),e.bIt("keydown.enter",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onVerseSelected())})("change",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onVerseSelected())}),e.k0s()()}}let me=(()=>{class i{searchBookService;bibleService;ngZone;utilSharedService;fb;currentBook;searchForm;filteredBooks;filteredChapters;bibleBooks=[];chapterList=[];isBookSelected=!1;isChapterSelected=!1;subs=[];bookInput;chapterInput;verseInput;booksAutoComplete;chaptersAutoComplete;keydownListener;constructor(t,o,n,r,s){this.searchBookService=t,this.bibleService=o,this.ngZone=n,this.utilSharedService=r,this.fb=s,this.searchForm=this.createFormGroup()}ngOnInit(){this.subs.push(this.bibleService.bibleBooksObsCast.subscribe(t=>{this.ngZone.run(()=>{this.bibleBooks=this.combineBibleBooks(t)})})),this.keydownListener=this.onKeydown.bind(this),window.addEventListener("keydown",this.keydownListener),this.getFilteredOptions(),this.getChapterLis(),this.populateDeafult()}ngOnChanges(t){this.getChapterLis(),this.populateDeafult()}populateDeafult(){this.book.patchValue(this.currentBook),this.chapter.patchValue(1),this.verse.patchValue(1)}getChapterLis(){this.chapterList=this.utilSharedService.convertNumToArray(this.currentBook.chapters.length)}onSearchChange(t){}getFilteredOptions(){this.filteredBooks=this.utilSharedService.filterBooks(this.book,this.bibleBooks,g.g.TRANS),this.filteredChapters=this.utilSharedService.filteredDataComesFirst(this.chapter,this.chapterList)}defaultSelect(){}onBookSelected(t){this.chapter.reset(),this.verse.reset();const o=t.value;o?(this.bibleService.getBook(o.id),this.chapterList=Array.from({length:o.chapterCount},(n,r)=>r+1),this.isBookSelected=!0,this.filteredChapters=this.utilSharedService.filteredDataComesFirst(this.chapter,this.chapterList),setTimeout(()=>{this.chapterInput.nativeElement.focus()})):this.isBookSelected=!1}onChapterSelected(t){t.value?(this.isChapterSelected=!0,this.bibleService.setChapterIndex(this.chapter.value),setTimeout(()=>{this.verseInput.nativeElement.focus()})):this.isChapterSelected=!1}onVerseSelected(){this.verse&&this.verse.value&&this.bibleService.setVerseIndex(this.verse.value)}displayFn(t){return t&&t.name?t.name:""}combineBibleBooks(t){return t.reduce((o,n)=>o.concat(n.books),[])}onSearchClick(){}prepareBookRequest(){const t=this.searchBookService.searchBook(this.book?.value.id);if(t&&t.bookName){const o=this.bibleBooks.find(n=>n.name.includes(t?.bookName));if(o&&o.id){const n=t&&t.chapterNumber&&Number(t.chapterNumber)||1,r=t&&t.verse&&Number(t.verse)||1;this.bibleService.getBook(o.id,!1,n,r),console.log(t,o.id,!1,n,r,"search found"),this.resetInput()}}}get book(){return this.searchForm.get("book")}get chapter(){return this.searchForm.get("chapter")}get verse(){return this.searchForm.get("verse")}resetInput(){this.searchForm&&this.searchForm.reset()}onKeydown(t){const{ctrlKey:o,key:n}=t;o&&"f"===n&&(t.preventDefault(),this.resetInput(),this.bookInput.nativeElement.focus())}createFormGroup(){return this.fb.group({book:["",[f.k0.required]],chapter:[""],verse:[""]})}ngOnDestroy(){window.removeEventListener("keydown",this.keydownListener),this.isBookSelected=!1,this.isChapterSelected=!1,this.bibleBooks=[]}static \u0275fac=function(o){return new(o||i)(e.rXU(q),e.rXU(C.c),e.rXU(e.SKi),e.rXU(oe),e.rXU(f.ok))};static \u0275cmp=e.VBU({type:i,selectors:[["app-search-bar"]],viewQuery:function(o,n){if(1&o&&(e.GBs(se,5),e.GBs(ce,5),e.GBs(ae,5),e.GBs(_.pN,5),e.GBs(_.pN,5)),2&o){let r;e.mGM(r=e.lsd())&&(n.bookInput=r.first),e.mGM(r=e.lsd())&&(n.chapterInput=r.first),e.mGM(r=e.lsd())&&(n.verseInput=r.first),e.mGM(r=e.lsd())&&(n.booksAutoComplete=r.first),e.mGM(r=e.lsd())&&(n.chaptersAutoComplete=r.first)}},inputs:{currentBook:"currentBook"},features:[e.OA$],decls:14,vars:8,consts:[["bookInput",""],["booksAutoComplete","matAutocomplete"],["chapterInput",""],["chaptersAutoComplete","matAutocomplete"],["verseInput",""],[1,"search-sec","mr-3"],[1,"",3,"formGroup"],[1,"d-flex"],["appearance","outline",1,"search-book","primary"],["matInput","","placeholder","Search book","formControlName","book",3,"keydown.enter","matAutocomplete"],["matPrefix",""],["autoActiveFirstOption","",3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline","class","search-chapter wt-15 ml-4 primary",4,"ngIf"],["appearance","outline","class","search-verse wt-10 ml-4 primary",4,"ngIf"],[3,"value"],["appearance","outline",1,"search-chapter","wt-15","ml-4","primary"],["matInput","","placeholder","","formControlName","chapter",3,"matAutocomplete"],["autoActiveFirstOption","",3,"optionSelected"],["appearance","outline",1,"search-verse","wt-10","ml-4","primary"],["matInput","","type","text","formControlName","verse",3,"keydown.enter","change"]],template:function(o,n){if(1&o){const r=e.RV6();e.j41(0,"section",5)(1,"form",6)(2,"div",7)(3,"mat-form-field",8)(4,"input",9,0),e.bIt("keydown.enter",function(){return e.eBV(r),e.Njj(n.onSearchClick())}),e.k0s(),e.j41(6,"mat-icon",10),e.EFF(7,"search"),e.k0s(),e.j41(8,"mat-autocomplete",11,1),e.bIt("optionSelected",function(c){return e.eBV(r),e.Njj(n.onBookSelected(c.option))}),e.DNE(10,le,2,2,"mat-option",12),e.nI1(11,"async"),e.k0s()(),e.DNE(12,pe,7,4,"mat-form-field",13)(13,ue,3,0,"mat-form-field",14),e.k0s()()()}if(2&o){const r=e.sdS(9);e.R7$(),e.Y8G("formGroup",n.searchForm),e.R7$(3),e.Y8G("matAutocomplete",r),e.R7$(4),e.Y8G("displayWith",n.displayFn),e.R7$(2),e.Y8G("ngForOf",e.bMT(11,6,n.filteredBooks)),e.R7$(2),e.Y8G("ngIf",(null==n.book?null:n.book.value)&&n.isBookSelected||!0),e.R7$(),e.Y8G("ngIf",(null==n.book?null:n.book.value)&&n.isBookSelected&&(null==n.chapter?null:n.chapter.value)&&n.isChapterSelected||!0)}},dependencies:[d.Sq,d.bT,ne.An,re.fg,E.rl,E.JW,f.qT,f.me,f.BC,f.cb,f.j4,f.JD,_.$3,ie.wT,_.pN,d.Jj],styles:[".search-sec .primary input{color:#b3b3b3!important}  .mat-mdc-form-field-infix{width:220px}  .mat-mdc-text-field-wrapper{background:transparent}  .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom-color:#7d7d7d!important}  .mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple:before{border-bottom-color:#7d7d7d!important}  .mat-form-field-label{color:#a5a5a5!important}  .mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:#a5a5a5!important}  .--mat-form-field-container-height{min-height:40px!important}  .mat-mdc-form-field-infix{padding:10px 0!important}  .mat-mdc-text-field-wrapper{height:46px!important}  .mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:#7d7d7d!important}  .mat-mdc-form-field-icon-prefix>.mat-icon{padding-bottom:10px!important}  .mat-mdc-notch-piece.mdc-notched-outline__trailing,   .mdc-notched-outline--no-label,   .mat-mdc-form-field-flex{outline:none!important}  mat-icon{cursor:pointer}@media screen and (max-width: 768px){  .search-chapter{width:25%;margin-left:8px!important}  .search-verse{width:20%;margin-left:8px!important}}"]})}return i})();var I=a(9115);function de(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"menu",12),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onBookMarkClick(n))}),e.j41(2,"span"),e.EFF(3),e.k0s(),e.j41(4,"span"),e.EFF(5),e.k0s(),e.j41(6,"span"),e.EFF(7),e.k0s()(),e.bVm()}if(2&i){const t=l.$implicit,o=e.XpG();e.R7$(3),e.SpI(" ",t.bookName," : "),e.R7$(2),e.SpI(" ",o.getChapterNumber(t.chapterName)," : "),e.R7$(2),e.SpI(" ",t.verseId," ")}}let fe=(()=>{class i{bookMarkService;bibleService;sharedService;ngZone;bookMarkList=[];menuTrigger;constructor(t,o,n,r){this.bookMarkService=t,this.bibleService=o,this.sharedService=n,this.ngZone=r}ngOnInit(){this.getBookMarks(),window.addEventListener("keydown",this.handleKeyDown.bind(this))}ngOnChanges(t){}openMenu(){this.menuTrigger.toggleMenu()}getBookMarks(){this.bookMarkService.bookMarksListObsCast.subscribe(t=>{const o=this.bookMarkService.getBookMarks();this.bookMarkList=this.bookMarkService.sortBookmarks(o)})}onBookMarkClick(t){this.bookMarkService.setBookMarkClicked(t),this.bibleService.getBook(t.currentBookId,!0)}getChapterNumber(t){return this.sharedService.getIndex(t)}deleteAll(){this.bookMarkService.clearAll(),this.bookMarkList=[]}onControlQ(){}handleKeyDown(t){t.ctrlKey&&"q"===t.key&&(t.preventDefault(),this.ngZone.run(()=>{this.openMenu()}))}ngOnDestroy(){window.removeEventListener("keydown",this.handleKeyDown.bind(this))}static \u0275fac=function(o){return new(o||i)(e.rXU(x.s),e.rXU(C.c),e.rXU(y.d),e.rXU(e.SKi))};static \u0275cmp=e.VBU({type:i,selectors:[["app-book-mark"]],viewQuery:function(o,n){if(1&o&&e.GBs(I.Cp,5),2&o){let r;e.mGM(r=e.lsd())&&(n.menuTrigger=r.first)}},features:[e.OA$],decls:17,vars:2,consts:[["menuTrigger",""],["aboveMenu","matMenu"],[1,"bottom-acceess"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"material-symbols-outlined"],["yPosition","above"],[1,"d-flex","p-3","border-bottom","book-mark-title","justify-content-between","align-items-center"],[1,"book-mark-title"],[1,"m-0"],[1,"text-right"],["mat-icon-button","","color","warning",1,"delete-btn",3,"click"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"]],template:function(o,n){if(1&o){const r=e.RV6();e.j41(0,"section")(1,"div",2)(2,"button",3,0)(4,"span",4),e.EFF(5," bookmarks "),e.k0s()(),e.j41(6,"mat-menu",5,1)(8,"div",6)(9,"div",7)(10,"h3",8),e.EFF(11,"Recently Viewed"),e.k0s()(),e.j41(12,"div",9)(13,"button",10),e.bIt("click",function(){return e.eBV(r),e.Njj(n.deleteAll())}),e.j41(14,"span",4),e.EFF(15," delete "),e.k0s()()()(),e.DNE(16,de,8,3,"ng-container",11),e.k0s()()()}if(2&o){const r=e.sdS(7);e.R7$(2),e.Y8G("matMenuTriggerFor",r),e.R7$(14),e.Y8G("ngForOf",n.bookMarkList)}},dependencies:[d.Sq,B.iY,I.kk,I.fb,I.Cp],styles:["button{background-color:transparent}  button .material-symbols-outlined{color:#bcbcbc;font-weight:600}  .mat-mdc-menu-panel{min-width:260px!important;max-width:360px!important;height:auto;min-height:280px;max-height:300px;padding-bottom:20px}  .mat-mdc-menu-content{padding:0!important}  .book-mark-title{background:#1c222e;color:#fff}  .delete-btn{color:#cc9a9a}"]})}return i})();const be=["verseContainer"];function ke(i,l){1&i&&e.nrm(0,"mat-progress-spinner",3)}function ge(i,l){if(1&i&&(e.j41(0,"div",22)(1,"h2",23),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.Lme(" ",t.currentBook.name,": ",t.currentChapterIndex," ")}}function ve(i,l){if(1&i&&(e.j41(0,"h2",24)(1,"span"),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.SpI("\u0c05\u0c27\u0c4d\u0c2f\u0c3e\u0c2f\u0c02: - ",t.currentChapterIndex,"")}}function Ce(i,l){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"p",27,0)(3,"span",28),e.EFF(4),e.k0s(),e.j41(5,"span",29),e.bIt("mouseup",function(n){const r=e.eBV(t),s=r.$implicit,c=r.index,h=e.XpG(3);return e.Njj(h.onMouseUp(n,c,s))})("mousedown",function(n){const r=e.eBV(t),s=r.$implicit,c=r.index,h=e.XpG(3);return e.Njj(h.onMouseUp(n,c,s))}),e.EFF(6),e.k0s()(),e.bVm()}if(2&i){const t=l.$implicit,o=l.index;e.R7$(),e.Y8G("id","verse-"+o),e.R7$(3),e.SpI(" ",t.id,". "),e.R7$(2),e.SpI(" ",t.des," ")}}function _e(i,l){if(1&i&&(e.j41(0,"section",25),e.DNE(1,Ce,7,3,"ng-container",26),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.currentChapter.verses)}}function Se(i,l){if(1&i){const t=e.RV6();e.j41(0,"section",4),e.bIt("scroll",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onScroll(n))}),e.j41(1,"div",5)(2,"div",6)(3,"div",7),e.DNE(4,ge,3,2,"div",8),e.k0s()(),e.j41(5,"section",9)(6,"div",10)(7,"div",11),e.nrm(8,"app-search-bar",12),e.k0s(),e.j41(9,"div",13)(10,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zoom("+"))}),e.j41(11,"span",15),e.EFF(12," zoom_in "),e.k0s()(),e.j41(13,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zoom("-"))}),e.j41(14,"span",15),e.EFF(15," zoom_out "),e.k0s()(),e.j41(16,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.zoom(""))}),e.j41(17,"span",15),e.EFF(18," restart_alt "),e.k0s()(),e.nrm(19,"app-book-mark"),e.k0s()(),e.j41(20,"app-chapters",16),e.bIt("currentChapter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.getCurrentChapter(n))}),e.k0s()(),e.j41(21,"section",17)(22,"section",18),e.DNE(23,ve,3,1,"h2",19),e.k0s(),e.DNE(24,_e,2,1,"section",20),e.k0s()(),e.j41(25,"app-quick-access",21),e.bIt("changeChapter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.changeChapter(n))}),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(4),e.Y8G("ngIf",t.isMobile),e.R7$(4),e.Y8G("currentBook",t.currentBook),e.R7$(12),e.Y8G("currentBook",t.currentBook)("currentChapterIndex",t.currentChapterIndex),e.R7$(3),e.Y8G("ngIf",!t.isMobile),e.R7$(),e.Y8G("ngIf",t.currentChapter&&t.currentChapter.verses.length>0),e.R7$(),e.Y8G("disableNext",t.currentChapterIndex>=t.currentBook.chapters.length)("disablePrev",t.currentChapterIndex-1<=0)}}const Be=[{path:"",pathMatch:"full",redirectTo:"chapter"},{path:"chapter",component:(()=>{class i{bibleService;sharedService;zoomService;keyboardShortcutsService;bookMarkService;breakpointService;currentBook;type=D.w;currentChapterIndex=1;currentChapter;subscriptions=[];isLoading;isMobile=!1;currentVerse=1;verseContainers;constructor(t,o,n,r,s,c){this.bibleService=t,this.sharedService=o,this.zoomService=n,this.keyboardShortcutsService=r,this.bookMarkService=s,this.breakpointService=c,this.isLoading=!0,this.bibleService.getBook($.C.BOOK_1)}ngOnInit(){this.getBibleBooks(),this.getScreen()}getScreen(){this.subscriptions.push(this.breakpointService.isMobile$.subscribe(t=>{this.isMobile=t}))}ngAfterViewInit(){}onScroll(t){const o=t.target.scrollTop,n=document.getElementById("app-header");n&&(o>320?(n.classList.add("sticky"),this.bibleService.setBibleState({showBook:!0,showChapter:!0,showVerses:!0})):(n.classList.remove("sticky"),this.bibleService.setBibleState({showBook:!0,showChapter:!1,showVerses:!1})))}zoom(t){"+"===t?this.zoomService.zoomIn():"-"===t?this.zoomService.zoomOut():this.zoomService.reset()}getBibleBooks(){this.subscriptions.push(this.bibleService.currentBookObsCast.subscribe(t=>{this.isLoading=!1,this.currentBook=t,t.isBookMark||(this.currentChapter=this.currentBook.chapters[0]),this.bibleService.setBibleState({showBook:!0})},()=>this.isLoading=!1),this.bibleService.chapterIndexObsCast.subscribe(t=>{this.currentChapterIndex=t}),this.bibleService.currentVerseIndexObsCast.subscribe(t=>{this.currentVerse=t,this.scrollToVerse(this.currentVerse)}))}changeChapter(t){const o=this.sharedService.getBookId(this.currentBook.id,t);switch(t){case m.R.NEXT:this.currentChapterIndex>=this.currentBook.chapters.length?this.callToNewBook(t):(this.currentChapter=this.currentBook.chapters[this.currentChapterIndex],this.currentChapterIndex++);break;case m.R.PREV:this.currentChapterIndex>1?(this.currentChapterIndex--,this.currentChapter=this.currentBook.chapters[this.currentChapterIndex-1]):this.callToNewBook(t);break;case m.R.DOWN:case m.R.UP:this.bibleService.getBook(o),this.resetDefaults()}this.bibleService.setChapterIndex(this.currentChapterIndex)}callToNewBook(t){this.resetDefaults(),this.isLoading=!0;const o=this.sharedService.getBookId(this.currentBook.id,t);this.bibleService.getBook(o)}resetDefaults(){this.currentChapterIndex=1,this.bibleService.setChapterIndex(1),this.currentVerse=1,this.bibleService.setVerseIndex(1)}getCurrentChapter(t){this.currentChapter=t,this.bibleService.setBibleState({showBook:!0,showChapter:!1})}onKeydown(t){!t.ctrlKey&&!t.metaKey||"+"!==t.key&&"="!==t.key?(t.ctrlKey||t.metaKey)&&"-"===t.key&&(t.preventDefault(),this.zoomService.zoomOut()):(t.preventDefault(),this.zoomService.zoomIn())}scrollToVerse(t){const o=this.verseContainers&&this.verseContainers.find((n,r)=>r===t-1);o&&o.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}onMouseUp(t,o,n){this.bookMarkService.storeBookMarks(n,this.currentChapter,this.currentBook)}ngOnDestroy(){this.bibleService.resetDeafualts(),this.sharedService.destroy(this.subscriptions),window.removeEventListener("keydown",this.onKeydown.bind(this)),this.isMobile=!1}static \u0275fac=function(o){return new(o||i)(e.rXU(C.c),e.rXU(y.d),e.rXU(N),e.rXU(z),e.rXU(x.s),e.rXU(Y.d))};static \u0275cmp=e.VBU({type:i,selectors:[["app-main"]],viewQuery:function(o,n){if(1&o&&e.GBs(be,5),2&o){let r;e.mGM(r=e.lsd())&&(n.verseContainers=r)}},hostBindings:function(o,n){1&o&&e.bIt("keydown",function(s){return n.onKeydown(s)},!1,e.tSv)},decls:2,vars:2,consts:[["verseContainer",""],["mode","indeterminate","value","50",4,"ngIf"],["class","main-section mb-5 pb-5","id","contentBlock",3,"scroll",4,"ngIf"],["mode","indeterminate","value","50"],["id","contentBlock",1,"main-section","mb-5","pb-5",3,"scroll"],[1,"container","pb-5"],[1,"title"],[1,"row"],["class","col",4,"ngIf"],[1,"my-5","filter-section"],[1,"d-flex","justify-content-between","mb-3","px-2","filters-wrapper"],[1,"search-section"],[3,"currentBook"],[1,"zoom-features","d-flex","justify-content-end","mb-3","align-items-center"],["mat-icon-button","",3,"click"],[1,"material-symbols-outlined"],[3,"currentChapter","currentBook","currentChapterIndex"],[1,""],[1,"mt-5"],["class","text-center chapter-num",4,"ngIf"],["class","verse-sec","id","zoom-container",4,"ngIf"],[3,"changeChapter","disableNext","disablePrev"],[1,"col"],[1,"text-center","chapter-book","chapter-name","mobile-only"],[1,"text-center","chapter-num"],["id","zoom-container",1,"verse-sec"],[4,"ngFor","ngForOf"],[1,"verses","d-flex",3,"id"],[1,"verse-index"],[1,"verse-val",3,"mouseup","mousedown"]],template:function(o,n){1&o&&e.DNE(0,ke,1,0,"mat-progress-spinner",1)(1,Se,26,8,"section",2),2&o&&(e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading&&n.currentChapter))},dependencies:[d.Sq,d.bT,B.iY,A.LG,U,J,me,fe],styles:[".main-section[_ngcontent-%COMP%]{margin-top:92px}.verse-sec[_ngcontent-%COMP%]{font-size:42px}.verse-sec[_ngcontent-%COMP%]   .verses[_ngcontent-%COMP%]{font-size:inherit;font-weight:500;margin:0;line-height:1.6;color:#ccc}.chapter-num[_ngcontent-%COMP%]{font-size:32px;font-weight:500;color:#dcdcdc}.chapter-name[_ngcontent-%COMP%]{font-size:40px;color:#dcdcdc}.main-section[_ngcontent-%COMP%]{height:80vh;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.zoom-features[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:5px}.zoom-features[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#b3b3b3}@media screen and (max-width: 768px){.filter-section[_ngcontent-%COMP%]   .filters-wrapper[_ngcontent-%COMP%]{flex-direction:column}.verse-sec[_ngcontent-%COMP%]{font-size:24px}.search-section[_ngcontent-%COMP%]{flex-basis:auto}}"]})}return i})()}];let we=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[R.iI.forChild(Be),R.iI]})}return i})();var Ie=a(3887),ye=a(6665),xe=a(9888);const Me=[A.D6,ye.vF,M.Hu,_.jL];let Fe=(()=>{class i{static \u0275fac=function(o){return new(o||i)};static \u0275mod=e.$C({type:i});static \u0275inj=e.G2t({imports:[d.MD,we,Ie.G,f.YN,f.X1,xe.Pd,Me]})}return i})()}}]);